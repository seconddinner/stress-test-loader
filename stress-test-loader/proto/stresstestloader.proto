
syntax = "proto3";

option go_package = "github.com/seconddinner/jxie-sd/stress-test/stress-test-loader/stresstestloader";

package stresstestloader;

// The verify service definition.
service Verifier {
  // Sends a list of stresstest public ip to varify
  rpc Verify (MonitorServerConfig) returns (VerifyReply) {}
}


// The request to verify
message VerifyRequest {
  optional string stresstesturl = 1;
  string url = 2;
  int32 timeout = 3;
  optional string postUser = 4;
  optional string postPassword = 5;
  optional string urlParameters = 6; 
}

message MonitorServerConfig {
  repeated VerifyRequest VRList = 1;
  int32 waitSeconds = 2;
  optional int32 initialWaitForstresstestStart = 3;
  enum DebugLevelEnum {
    PanicLevel = 0;
  	FatalLevel = 1;
	  ErrorLevel = 2;
  	WarnLevel = 3;
  	InfoLevel = 4;
  	DebugLevel = 5;
  	TraceLevel = 6;
  }
  optional DebugLevelEnum debugL = 4;
  int32 listenPort = 5;
  optional int32 shutdownThreshHold = 6; // number of times we retry http before we shutdown 
  optional bool shutdownFlag = 7;
}
// The response for the verify
message VerifyReply {
  string status = 1;
}
